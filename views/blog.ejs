<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog - Fastqash Agencies</title>
  <meta name="description" content="Read the latest news, tips, and updates from Fastqash Agencies">
  <meta name="keywords" content="Fastqash, Blog, News, Updates, Financial Freedom, Community, Success Stories">
  <meta name="author" content="Fastqash Agencies">
  <!-- Open Graph / Facebook -->
  <meta property="og:title" content="Blog - Fastqash Agencies">
  <meta property="og:description" content="Read the latest news, tips, and updates from Fastqash Agencies">
  <meta property="og:image" content="https://fastqash.net/images/og-image.png">
  <meta property="og:url" content="https://fastqash.net/blog">
  <meta property="og:type" content="website">
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Blog - Fastqash Agencies">
  <meta name="twitter:description" content="Read the latest news, tips, and updates from Fastqash Agencies">
  <meta name="twitter:image" content="https://fastqash.net/images/og-image.jpg">


  <!-- favicon-->
  <link rel="icon" href="/images/favicon.PNG" type="image/x-icon">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

  <style>
        /* Reuse the same styles from the homepage */
        :root {
            --primary: #2c3e50;
            --secondary: #e74c3c;
            --accent: #3498db;
            --light: #ecf0f1;
            --dark: #2c3e50;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            color: #333;
            padding-top: 80px;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
        }
        
        .navbar {
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            background-color: white;
            padding: 15px 0;
        }
        
        .navbar-brand {
            font-weight: 700;
            color: var(--primary);
            font-size: 1.8rem;
        }
        
        .navbar-brand span {
            color: var(--secondary);
        }
        
        .nav-link {
            font-weight: 500;
            margin: 0 10px;
            transition: all 0.3s;
        }
        
        .nav-link:hover {
            color: var(--secondary);
        }
        
        .btn-primary {
            background-color: var(--secondary);
            border-color: var(--secondary);
            padding: 12px 30px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn-primary:hover {
            background-color: #c0392b;
            border-color: #c0392b;
            transform: translateY(-2px);
        }
        
        .blog-hero {
            background: linear-gradient(rgba(44, 62, 80, 0.8), rgba(44, 62, 80, 0.8)), url('https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0;
            margin-bottom: 50px;
        }
        
        .section-title {
            position: relative;
            margin-bottom: 40px;
            padding-bottom: 15px;
        }
        
        .section-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background-color: var(--secondary);
        }
        
        .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: all 0.3s;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        
        .card-img-top {
            height: 200px;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .card:hover .card-img-top {
            transform: scale(1.05);
        }
        
        .category-filter {
            margin-bottom: 30px;
        }
        
        .category-btn {
            margin: 5px;
        }
        
        footer {
            background-color: var(--dark);
            color: white;
            padding: 60px 0 30px;
        }
        
        footer a {
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            transition: all 0.3s;
        }
        
        footer a:hover {
            color: white;
        }
        
        .social-icon {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            margin-right: 10px;
            transition: all 0.3s;
        }
        
        .social-icon:hover {
            background: var(--secondary);
            transform: translateY(-3px);
        }
        .whatsapp-float {
            position: fixed;
            width: 60px;
            height: 60px;
            bottom: 40px;
            right: 40px;
            background-color: #25d366;
            color: white;
            border-radius: 50px;
            text-align: center;
            font-size: 30px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.2);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .whatsapp-float:hover {
            background-color: #128c7e;
            transform: scale(1.05);
        }
        
        @media (max-width: 768px) {
            .blog-hero {
                padding: 60px 0;
            }
            
            .whatsapp-float {
                width: 50px;
                height: 50px;
                bottom: 20px;
                right: 20px;
                font-size: 24px;
            }
            
            .card-img-top {
                height: 160px;
            }
        }
    </style>
</head>
<body>
  <!-- Navbar -->
  <%- include('partials/navbar') %>

  <!-- Blog Hero -->
  <section class="blog-hero">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto text-center">
          <h1 class="display-4 fw-bold mb-4">Fastqash Blog</h1>
          <p class="lead">Stay updated with the latest news, tips, and success stories from the Fastqash community</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Blog Posts -->
<section class="py-5">
  <div class="container">
    <h2 class="section-title">Latest Posts</h2>

          <!-- Search Bar -->
      <div class="row mb-4">
        <div class="col-md-6 mx-auto">
          <input id="search-input" class="form-control" type="search" placeholder="Search posts...">
        </div>
      </div>

      <!-- Posts Container -->
      <div id="posts-container" class="row">
        <% if (posts && posts.length > 0) { %>
          <% posts.forEach(post => { %>
            <div class="col-md-4 mb-4 post-item">
              <div class="card h-100">
                <img src="<%= post.image %>" class="card-img-top" alt="<%= post.title %>">
                <div class="card-body">
                  <span class="badge bg-primary mb-2"><%= post.category %></span>
                  <h5 class="card-title"><%= post.title %></h5>
                  <p class="card-text"><%= post.excerpt %></p>
                  <p class="text-muted"><small><%= post.date.toDateString() %></small></p>
                </div>
                <div class="card-footer bg-transparent">
                  <a href="/blog/<%= post.slug %>" class="btn btn-sm btn-outline-primary">Read More</a>
                </div>
              </div>
            </div>
          <% }) %>
        <% } else { %>
          <div class="col-12 text-center py-5 no-results">
            <i class="fas fa-inbox fa-3x text-muted mb-3"></i>
            <h3>No posts found</h3>
            <p class="text-muted">Try searching with different keywords.</p>
          </div>
        <% } %>
      </div>

  </div>
</section>
<!-- Search Script with Debounce -->
<script>
  const searchInput = document.getElementById('search-input');
  const postsContainer = document.getElementById('posts-container');

  // Debounce function
  function debounce(func, delay) {
    let timeoutId;
    return function(...args) {
      clearTimeout(timeoutId);
      timeoutId = setTimeout(() => func.apply(this, args), delay);
    };
  }

  async function fetchPosts() {
    const query = searchInput.value.trim();

    try {
      const res = await fetch(`/blog/search?q=${encodeURIComponent(query)}`);
      const posts = await res.json();

      if (posts.length === 0) {
        postsContainer.innerHTML = `
          <div class="col-12 text-center py-5 no-results">
            <i class="fas fa-inbox fa-3x text-muted mb-3"></i>
            <h3>No posts found</h3>
            <p class="text-muted">Try searching with different keywords.</p>
          </div>
        `;
        return;
      }

      let html = '';
      posts.forEach(post => {
        html += `
          <div class="col-md-4 mb-4 post-item">
            <div class="card h-100">
              <img src="${post.image}" class="card-img-top" alt="${post.title}">
              <div class="card-body">
                <span class="badge bg-primary mb-2">${post.category}</span>
                <h5 class="card-title">${post.title}</h5>
                <p class="card-text">${post.excerpt}</p>
                <p class="text-muted"><small>${new Date(post.date).toDateString()}</small></p>
              </div>
              <div class="card-footer bg-transparent">
                <a href="/blog/${post.slug}" class="btn btn-sm btn-outline-primary">Read More</a>
              </div>
            </div>
          </div>
        `;
      });

      postsContainer.innerHTML = html;

    } catch (err) {
      console.error(err);
    }
  }

  // Apply debounce (300ms delay)
  searchInput.addEventListener('input', debounce(fetchPosts, 300));
</script>



  <!-- Footer -->
  <%- include('partials/footer') %>

  <!-- WhatsApp Float -->
  <a href="https://wa.me/254742381320?text=Hi.%20My%20name%20is%20.....,%20I%20would%20like%20to%20join%20FastQash.%20Please%20guide%20me." target="_blank" class="whatsapp-float">
    <i class="fab fa-whatsapp"></i>
  </a>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
